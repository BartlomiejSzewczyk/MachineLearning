(this["webpackJsonpmovie-rate"]=this["webpackJsonpmovie-rate"]||[]).push([[0],{38:function(e,n,t){},48:function(e,n,t){},50:function(e,n,t){"use strict";t.r(n);var a=t(4),i=t(2),r=t.n(i),c=t(7),o=t.n(c),s=t(9),u=t(10),l=t(11),b="(max-width: 1440px)",f="(min-width: 1441px)",j=t(32),d=t(26),p=(t(38),t(27));p.a.initializeApp({apiKey:"AIzaSyBCjEoB2RKgBw9zPHVWS-syRsv1Vm_889w",authDomain:"machinelearning-cfc59.firebaseapp.com",databaseURL:"https://machinelearning-cfc59.firebaseio.com",storageBucket:"machinelearning-cfc59.appspot.com"});var h=p.a,g=t(19);function v(){var e=Object(u.a)(["\n  position: relative;\n  text-align: center;\n  margin-top: 20px;\n  @media "," {\n    font-size: 18px;\n  }\n  @media "," {\n    font-size: 20px;\n  }\n"]);return v=function(){return e},e}function m(){var e=Object(u.a)(["\n  position: absolute;\n  top: 15%;\n  max-width: 30%;\n  left: 3%;\n  @media "," {\n    font-size: 18px;\n  }\n  @media "," {\n    font-size: 20px;\n  }\n"]);return m=function(){return e},e}function O(){var e=Object(u.a)(["\n  position: absolute;\n  width: 20%;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 50px;\n"]);return O=function(){return e},e}function x(){var e=Object(u.a)(["\n  position: relative;\n  margin-top: 20px;\n  background: ",";\n  pointer-events: ",";\n  width: 150px;\n  max-width: 30%;\n  height: 50px;\n  border-radius: 20px;\n  border: 2px solid black;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  left: 50%;\n  transform: translateX(-50%);\n  @media "," {\n    font-size: 20px;\n  }\n  @media "," {\n    font-size: 22px;\n  }\n"]);return x=function(){return e},e}function w(){var e=Object(u.a)(["\n  padding: 5px;\n  @media "," {\n    font-size: 22px;\n  }\n  @media "," {\n    font-size: 26px;\n  }\n"]);return w=function(){return e},e}function z(){var e=Object(u.a)(["\n  position: relative;\n  margin-top: 20px;\n  text-align: center;\n"]);return z=function(){return e},e}function S(){var e=Object(u.a)(["\n  position: relative;\n  margin-top: 20px;\n  width: 80%;\n  left: 10%;\n"]);return S=function(){return e},e}function k(){var e=Object(u.a)(["\n  position: relative;\n  text-align: center;\n  @media "," {\n    font-size: 40px;\n  }\n  @media "," {\n    font-size: 46px;\n  }\n"]);return k=function(){return e},e}function y(){var e=Object(u.a)(["\n  position: absolute;\n  top: 15%;\n  left: 35%;\n  width: 30%;\n  height: 80%;\n"]);return y=function(){return e},e}var C=l.a.div(y()),E=l.a.div(k(),b,f),M=l.a.div(S()),F=l.a.div(z()),B=l.a.label(w(),b,f),N=l.a.button(x(),(function(e){return e.disabled?"##4848716e":"#484871"}),(function(e){if(e.disabled)return"none"}),b,f),I=l.a.img(O()),D=l.a.div(m(),b,f),J=l.a.div(v(),b,f),P=function(){var e=Object(i.useState)([]),n=Object(s.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)(""),o=Object(s.a)(c,2),u=o[0],l=o[1],b=Object(i.useState)(""),f=Object(s.a)(b,2),p=f[0],v=f[1],m=Object(i.useState)(new Map),O=Object(s.a)(m,2),x=O[0],w=O[1],z=Object(i.useState)(""),S=Object(s.a)(z,2),k=S[0],y=S[1],P=Object(i.useState)(""),R=Object(s.a)(P,2),W=R[0],_=R[1],L=Object(i.useState)(""),T=Object(s.a)(L,2),A=T[0],K=T[1],V=Object(i.useState)(""),G=Object(s.a)(V,2),H=G[0],U=G[1],X=Object(i.useState)(!1),Y=Object(s.a)(X,2),q=Y[0],Q=Y[1];Object(i.useEffect)((function(){var e=h.database().ref().child("movies"),n=[];if(e.on("value",(function(e){e.forEach((function(e){n.push({value:e.key,label:e.key})})),n=ne(n),r(n),l(n[0])})),window.sessionStorage.getItem("ratingMap")){for(var t=new Map,a=0,i=Object.entries(JSON.parse(window.sessionStorage.ratingMap));a<i.length;a++){var c=Object(s.a)(i[a],2),o=c[0],u=c[1];t.set(o,u)}w(t)}}),[]),Object(i.useEffect)((function(){$(u)}),[u]);var Z=function(e){var n=new Map(x);n.set(u.value,e),w(n);var a=0;t.forEach((function(e,n){e.value===u.value&&(a=n+1)})),t.length>a&&!x.get(t[a].value)?(l(t[a]),v("")):(a=ee(),t.length>a&&(l(t[a]),v("")));var i=Object.fromEntries(n);window.sessionStorage.setItem("ratingMap",JSON.stringify(i))},$=function(e){e&&h.database().ref().child("movies").child("".concat(e.value)).on("value",(function(e){fetch("https://api.themoviedb.org/3/movie/".concat(e.val(),"?api_key=72ed6ba834b7f05dc61a1e4fc27613dd&language=pl")).then((function(e){return e.json()})).then((function(e){y(e.poster_path),_(e.overview),K(e.release_date),e.genres&&U(e.genres[0].name)}))}))},ee=function(){var e=t.length;return t.forEach((function(n,t){x.get(n.value)||n.value===u.value||(e=t)})),e},ne=function(e){for(var n,t,a=e.length;0!==a;)t=Math.floor(Math.random()*a),n=e[a-=1],e[a]=e[t],e[t]=n;return e};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(C,{children:[Object(a.jsx)(E,{children:"Wybierz film do oceny:"}),Object(a.jsx)(M,{children:Object(a.jsx)(j.a,{value:u,onChange:l,options:t,placeholder:"Wybierz z listy ...",noResultsText:"Nie znaleziono wynik\xf3w"})}),u?Object(a.jsx)(F,{children:function(){for(var e=[],n=0;n<6;++n)e.push(Object(a.jsxs)(B,{for:n,children:[n,Object(a.jsx)(d.a,{className:"checkboxStyle",name:n,checked:x.get(u.value)?x.get(u.value)==="".concat(n):p==="".concat(n),onClick:function(e){v(e.target.name),Z(e.target.name)},children:"test"})]}));return e.push(Object(a.jsx)("br",{})),e.push(Object(a.jsx)("br",{})),e.push(Object(a.jsxs)(B,{for:-1,children:["Nie znam tego filmu",Object(a.jsx)(d.a,{className:"checkboxStyle",name:-1,checked:x.get(u.value)?"-1"===x.get(u.value):"-1"===p,onClick:function(e){v(e.target.name),Z(e.target.name)}})]})),e}()}):null,t.length?Object(a.jsxs)(J,{children:[x.size," / ",t.length]}):null,x.size===t.length&&t.length?Object(a.jsx)(N,{onClick:function(){var e=h.database().ref().child("rating"),n={};x.forEach((function(e,t){n[t]=e})),e.push(n),Object(g.b)("Dzi\u0119kuj\u0119my za ocenienie film\xf3w !"),Q(!0)},disabled:q,children:"Wy\u015blij"}):null]}),Object(a.jsxs)(D,{children:[H?"Gatunek: ".concat(H):null,H?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]}):null,A?"Data premiery: ".concat(A):null,A?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]}):null,W]}),k?Object(a.jsx)(I,{alt:"poster",src:"https://image.tmdb.org/t/p/original".concat(k)}):null]})};t(48),t(49);var R=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P,{}),Object(a.jsx)(g.a,{position:"top-center",hideProgressBar:!0,autoClose:!1})]})},W=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,53)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,r=n.getLCP,c=n.getTTFB;t(e),a(e),i(e),r(e),c(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(R,{})}),document.getElementById("root")),W()}},[[50,1,2]]]);
//# sourceMappingURL=main.0cf505cd.chunk.js.map