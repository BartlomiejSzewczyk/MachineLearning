{"version":3,"sources":["Styles/resolutions.js","Firebase/firebase.js","Movie/MovieField.js","Icons/oscarIcon.js","Icons/starIcon.js","App.js","reportWebVitals.js","index.js"],"names":["device","firebase","initializeApp","apiKey","authDomain","databaseURL","storageBucket","Header","styled","div","SelectField","RatingField","RatingLabel","label","ConfirmButton","button","Poster","img","MovieField","useState","movies","setMovies","selectedMovie","setSelectedMovie","selectedRate","setSelectedRate","Map","ratingMap","setRatingMap","posterUrl","setPosterUrl","useEffect","dbRef","database","ref","child","moviesFromDb","on","snap","forEach","movie","push","value","key","getMovieInfo","handleNextMovie","rate","mapCopy","set","newMovieIndex","index","length","get","findFreeIndex","fetch","val","then","response","json","data","poster_path","freeIndex","onChange","options","placeholder","noResultsText","alt","src","rating","i","for","disabled","className","name","checked","onClick","event","target","renderCheckboxes","size","ratingObj","Icon","svg","oscarIcon","version","xmlns","viewBox","d","Background","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6MAAaA,EACJ,sBADIA,EAEH,sB,gCCOVC,IAASC,cAPI,CACXC,OAAQ,0CACRC,WAAY,wCACZC,YAAa,+CACbC,cAAe,sCAKFL,QAAf,E,62CCHA,IAAMM,EAASC,IAAOC,IAAV,IAKDT,EAGAA,GAKLU,EAAcF,IAAOC,IAAV,IAKNT,EAGAA,GAKLW,EAAcH,IAAOC,IAAV,KAQXG,EAAcJ,IAAOK,MAAV,IAENb,EAGAA,GAKLc,EAAgBN,IAAOO,OAAV,IAaRf,EAGAA,GAKLgB,EAASR,IAAOS,IAAV,KAwKGC,EAhKI,WAAO,IAAD,EACKC,mBAAS,IADd,mBAChBC,EADgB,KACRC,EADQ,OAEmBF,mBAAS,IAF5B,mBAEhBG,EAFgB,KAEDC,EAFC,OAGiBJ,mBAAS,IAH1B,mBAGhBK,EAHgB,KAGFC,EAHE,OAIWN,mBAAS,IAAIO,KAJxB,mBAIhBC,EAJgB,KAILC,EAJK,OAKWT,mBAAS,IALpB,mBAKhBU,EALgB,KAKLC,EALK,KAOvBC,qBAAU,WACR,IAAMC,EAAQ/B,EAASgC,WAAWC,MAAMC,MAAM,UAC1CC,EAAe,GACnBJ,EAAMK,GAAG,SAAS,SAACC,GACjBA,EAAKC,SAAQ,SAACC,GACZJ,EAAaK,KAAK,CAAEC,MAAOF,EAAMG,IAAK9B,MAAO2B,EAAMG,SAErDtB,EAAUe,GACVb,EAAiBa,EAAa,SAE/B,IAEHL,qBAAU,WACRa,EAAatB,KACZ,CAACA,IAEJ,IA+CMuB,EAAkB,SAACC,GACvB,IAAIC,EAAU,IAAIrB,IAAIC,GACtBoB,EAAQC,IAAI1B,EAAcoB,MAAOI,GACjClB,EAAamB,GACb,IAAIE,EAAgB,EACpB7B,EAAOmB,SAAQ,SAACC,EAAOU,GACjBV,EAAME,QAAUpB,EAAcoB,QAChCO,EAAgBC,EAAQ,MAI1B9B,EAAO+B,OAASF,IACftB,EAAUyB,IAAIhC,EAAO6B,GAAeP,QAErCnB,EAAiBH,EAAO6B,IACxBxB,EAAgB,MAEhBwB,EAAgBI,IACZjC,EAAO+B,OAASF,IAClB1B,EAAiBH,EAAO6B,IACxBxB,EAAgB,OAKhBmB,EAAe,SAACJ,GACNvC,EACXgC,WACAC,MACAC,MAAM,UACNA,MAJW,UAIFK,EAAME,QACZL,GAAG,SAAS,SAACC,GACjBgB,MAAM,sCAAD,OACmChB,EAAKiB,MADxC,0DAGFC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACL7B,EAAa6B,EAAKC,oBAKpBP,EAAgB,WACpB,IAAIQ,EAAYzC,EAAO+B,OASvB,OARA/B,EAAOmB,SAAQ,SAACC,EAAOU,GAElBvB,EAAUyB,IAAIZ,EAAME,QACnBF,EAAME,QAAUpB,EAAcoB,QAEhCmB,EAAYX,MAGTW,GAYT,OACE,qCACE,cAACtD,EAAD,qCACA,cAACG,EAAD,UACE,cAAC,IAAD,CACEgC,MAAOpB,EACPwC,SAAUvC,EACVwC,QAAS3C,EACT4C,YAAW,sBACXC,cAAa,gCAGhBpC,EACC,cAACb,EAAD,CACEkD,IAAI,SACJC,IAAG,6CAAwCtC,KAE3C,KACHP,EAAgB,cAACX,EAAD,UAjII,WAEvB,IADA,IAAIyD,EAAS,GACJC,EAAI,EAAGA,EAAI,IAAKA,EACvBD,EAAO3B,KACL,eAAC7B,EAAD,CAAa0D,IAAKD,EAAlB,UACGA,EACD,cAAC,IAAD,CACEE,SAAU5C,EAAUyB,IAAI9B,EAAcoB,OACtC8B,UAAU,gBACVC,KAAMJ,EACNK,QACE/C,EAAUyB,IAAI9B,EAAcoB,OACxBf,EAAUyB,IAAI9B,EAAcoB,SAA5B,UAA0C2B,GAC1C7C,IAAY,UAAQ6C,GAE1BM,QAAS,SAACC,GACRnD,EAAgBmD,EAAMC,OAAOJ,MAC7B5B,EAAgB+B,EAAMC,OAAOJ,aA2BvC,OArBAL,EAAO3B,KAAK,wBACZ2B,EAAO3B,KAAK,wBACZ2B,EAAO3B,KACL,eAAC7B,EAAD,CAAa0D,KAAM,EAAnB,gCAEE,cAAC,IAAD,CACEC,SAAU5C,EAAUyB,IAAI9B,EAAcoB,OACtC8B,UAAU,gBACVC,MAAO,EACPC,QACE/C,EAAUyB,IAAI9B,EAAcoB,OACxB,OAAAf,EAAUyB,IAAI9B,EAAcoB,OAChB,OAAZlB,EAENmD,QAAS,SAACC,GACRnD,EAAgBmD,EAAMC,OAAOJ,MAC7B5B,EAAgB+B,EAAMC,OAAOJ,aAK9BL,EAqF0BU,KAAoC,KAClEnD,EAAUoD,OAAS3D,EAAO+B,QAAU/B,EAAO+B,OAC1C,cAACrC,EAAD,CAAe6D,QA7BO,WAC1B,IAAM3C,EAAQ/B,EAASgC,WAAWC,MAAMC,MAAM,UAC1C6C,EAAY,GAChBrD,EAAUY,SAAQ,SAACO,EAAM2B,GACvBO,EAAUP,GAAQ3B,KAEpBd,EAAMS,KAAKuC,IAuBP,yBACE,S,0JC1OV,IAAMC,EAAOzE,IAAO0E,IAAV,KAOK,SAASC,IACtB,OACE,eAACF,EAAD,CACEG,QAAQ,MACRC,MAAM,6BACNC,QAAQ,sBAHV,UAKE,4BACE,sBACEC,EAAE,+rDAiBN,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,yB,0KC/CO/E,IAAO0E,IAAV,K,4MCIV,IAAMM,EAAahF,IAAOC,IAAV,KAkBDgF,MAVf,WACE,OACE,eAACD,EAAD,WACE,cAAC,EAAD,IAEA,cAAC,EAAD,QCPSE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBpC,MAAK,YAAkD,IAA/CqC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.76f451b7.chunk.js","sourcesContent":["export const device = {\n  laptop: `(max-width: 1440px)`,\n  desktop: `(min-width: 1441px)`,\n};\n","import firebase from \"firebase\";\n\nvar config = {\n  apiKey: \"AIzaSyBCjEoB2RKgBw9zPHVWS-syRsv1Vm_889w\",\n  authDomain: \"machinelearning-cfc59.firebaseapp.com\",\n  databaseURL: \"https://machinelearning-cfc59.firebaseio.com\",\n  storageBucket: \"machinelearning-cfc59.appspot.com\",\n};\n\nfirebase.initializeApp(config);\n\nexport default firebase;\n","import styled from \"styled-components\";\nimport { device } from \"../Styles/resolutions\";\nimport { useState, useEffect } from \"react\";\nimport Select from \"react-select\";\nimport Checkbox from \"rc-checkbox\";\nimport \"../Styles/checkboxes-styles.css\";\nimport firebase from \"../Firebase/firebase\";\n\nconst Header = styled.div`\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  top: 10%;\n  @media ${device.laptop} {\n    font-size: 40px;\n  }\n  @media ${device.desktop} {\n    font-size: 46px;\n  }\n`;\n\nconst SelectField = styled.div`\n  position: absolute;\n  top: 20%;\n  left: 50%;\n  transform: translateX(-50%);\n  @media ${device.laptop} {\n    width: 350px;\n  }\n  @media ${device.desktop} {\n    width: 400px;\n  }\n`;\n\nconst RatingField = styled.div`\n  position: absolute;\n  top: 30%;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: -1;\n`;\n\nconst RatingLabel = styled.label`\n  padding: 5px;\n  @media ${device.laptop} {\n    font-size: 22px;\n  }\n  @media ${device.desktop} {\n    font-size: 26px;\n  }\n`;\n\nconst ConfirmButton = styled.button`\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translateX(-50%);\n  background: #484871;\n  width: 150px;\n  height: 50px;\n  border-radius: 20px;\n  border: 2px solid black;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  @media ${device.laptop} {\n    font-size: 20px;\n  }\n  @media ${device.desktop} {\n    font-size: 22px;\n  }\n`;\n\nconst Poster = styled.img`\n  position: absolute;\n  width: 20%;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 50px;\n`;\n\nconst MovieField = () => {\n  const [movies, setMovies] = useState([]);\n  const [selectedMovie, setSelectedMovie] = useState(\"\");\n  const [selectedRate, setSelectedRate] = useState(\"\");\n  const [ratingMap, setRatingMap] = useState(new Map());\n  const [posterUrl, setPosterUrl] = useState(\"\");\n\n  useEffect(() => {\n    const dbRef = firebase.database().ref().child(\"movies\");\n    var moviesFromDb = [];\n    dbRef.on(\"value\", (snap) => {\n      snap.forEach((movie) => {\n        moviesFromDb.push({ value: movie.key, label: movie.key });\n      });\n      setMovies(moviesFromDb);\n      setSelectedMovie(moviesFromDb[0]);\n    });\n  }, []);\n\n  useEffect(() => {\n    getMovieInfo(selectedMovie);\n  }, [selectedMovie]);\n\n  const renderCheckboxes = () => {\n    var rating = [];\n    for (var i = 0; i < 6; ++i) {\n      rating.push(\n        <RatingLabel for={i}>\n          {i}\n          <Checkbox\n            disabled={ratingMap.get(selectedMovie.value)}\n            className=\"checkboxStyle\"\n            name={i}\n            checked={\n              ratingMap.get(selectedMovie.value)\n                ? ratingMap.get(selectedMovie.value) === `${i}`\n                : selectedRate === `${i}`\n            }\n            onClick={(event) => {\n              setSelectedRate(event.target.name);\n              handleNextMovie(event.target.name);\n            }}\n          />\n        </RatingLabel>\n      );\n    }\n    rating.push(<br />);\n    rating.push(<br />);\n    rating.push(\n      <RatingLabel for={-1}>\n        Nie znam tego filmu\n        <Checkbox\n          disabled={ratingMap.get(selectedMovie.value)}\n          className=\"checkboxStyle\"\n          name={-1}\n          checked={\n            ratingMap.get(selectedMovie.value)\n              ? ratingMap.get(selectedMovie.value) === `-1`\n              : selectedRate === `-1`\n          }\n          onClick={(event) => {\n            setSelectedRate(event.target.name);\n            handleNextMovie(event.target.name);\n          }}\n        />\n      </RatingLabel>\n    );\n    return rating;\n  };\n\n  const handleNextMovie = (rate) => {\n    var mapCopy = new Map(ratingMap);\n    mapCopy.set(selectedMovie.value, rate);\n    setRatingMap(mapCopy);\n    var newMovieIndex = 0;\n    movies.forEach((movie, index) => {\n      if (movie.value === selectedMovie.value) {\n        newMovieIndex = index + 1;\n      }\n    });\n    if (\n      movies.length > newMovieIndex &&\n      !ratingMap.get(movies[newMovieIndex].value)\n    ) {\n      setSelectedMovie(movies[newMovieIndex]);\n      setSelectedRate(\"\");\n    } else {\n      newMovieIndex = findFreeIndex();\n      if (movies.length > newMovieIndex) {\n        setSelectedMovie(movies[newMovieIndex]);\n        setSelectedRate(\"\");\n      }\n    }\n  };\n\n  const getMovieInfo = (movie) => {\n    const dbRef = firebase\n      .database()\n      .ref()\n      .child(\"movies\")\n      .child(`${movie.value}`);\n    dbRef.on(\"value\", (snap) => {\n      fetch(\n        `https://api.themoviedb.org/3/movie/${snap.val()}?api_key=72ed6ba834b7f05dc61a1e4fc27613dd&language=pl`\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          setPosterUrl(data.poster_path);\n        });\n    });\n  };\n\n  const findFreeIndex = () => {\n    var freeIndex = movies.length;\n    movies.forEach((movie, index) => {\n      if (\n        !ratingMap.get(movie.value) &&\n        !(movie.value === selectedMovie.value)\n      ) {\n        freeIndex = index;\n      }\n    });\n    return freeIndex;\n  };\n\n  const handleConfirmButton = () => {\n    const dbRef = firebase.database().ref().child(\"rating\");\n    var ratingObj = {};\n    ratingMap.forEach((rate, name) => {\n      ratingObj[name] = rate;\n    });\n    dbRef.push(ratingObj);\n  };\n\n  return (\n    <>\n      <Header>Wybierz film do oceny:</Header>\n      <SelectField>\n        <Select\n          value={selectedMovie}\n          onChange={setSelectedMovie}\n          options={movies}\n          placeholder={`Wybierz z listy ...`}\n          noResultsText={`Nie znaleziono wyników`}\n        />\n      </SelectField>\n      {posterUrl ? (\n        <Poster\n          alt=\"poster\"\n          src={`https://image.tmdb.org/t/p/original${posterUrl}`}\n        />\n      ) : null}\n      {selectedMovie ? <RatingField>{renderCheckboxes()}</RatingField> : null}\n      {ratingMap.size === movies.length && movies.length ? (\n        <ConfirmButton onClick={handleConfirmButton}>Wyślij</ConfirmButton>\n      ) : null}\n    </>\n  );\n};\n\nexport default MovieField;\n","import styled from \"styled-components\";\n\nconst Icon = styled.svg`\n  position: absolute;\n  width: 30%;\n  top: 50%;\n  transform: translateY(-50%);\n`;\n\nexport default function oscarIcon() {\n  return (\n    <Icon\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 492.316 492.316\"\n    >\n      <g>\n        <path\n          d=\"M326.999,467.52h-9.459v-54.943h2.627c3.119,0,5.648-2.531,5.648-5.65s-2.529-5.65-5.648-5.65h-2.627v-21.157h-42.594\n\t\tc-2.77-0.487-4.101-1.991-4.968-5.347c-2.715-10.508-2.169-20.952,1.62-31.047c4.871-12.984,6.209-27.293,4.088-43.737\n\t\tc-0.138-1.069-0.279-2.14-0.423-3.21c-1.244-9.333-2.419-18.148-0.474-26.633c4.623-20.137,9.384-43.668,7.32-68.125\n\t\tc-0.517-6.117-0.871-12.4-1.216-18.475c-0.104-1.866-0.211-3.733-0.319-5.601c-0.07-1.184,0.008-1.801,0.069-2.082\n\t\tc13.365-6.029,15.894-18.816,17.568-27.285c0.61-3.095,1.024-6.184,1.426-9.171c0.606-4.531,1.181-8.812,2.369-12.753\n\t\tc3.013-9.968,3.644-25.313,1.937-37.074c-1.229-8.467-5.927-14.572-13.228-17.191c-3.562-1.276-28.597-8.119-26.56-17.482\n\t\tc1.996-9.168,6.51-22.165,6.724-31.361c0.192-8.432-2.729-22.703-24.465-23.533L246.158,0l-0.259,0.011\n\t\tc-21.73,0.83-24.651,15.102-24.459,23.532c0.209,9.189,5.386,22.183,7.385,31.359c2.038,9.366-23.664,16.209-27.228,17.487\n\t\tc-7.298,2.617-11.994,8.723-13.224,17.189c-1.708,11.762-1.075,27.106,1.935,37.074c1.191,3.943,1.764,8.229,2.372,12.762\n\t\tc0.399,2.984,0.813,6.069,1.424,9.163c1.673,8.452,4.196,21.206,17.569,27.288c0.061,0.282,0.14,0.902,0.069,2.082l-0.314,5.484\n\t\tc-0.344,6.111-0.701,12.432-1.221,18.587c-2.064,24.458,2.696,47.99,7.319,68.125c1.946,8.484,0.771,17.301-0.472,26.635\n\t\tc-0.143,1.07-0.285,2.14-0.423,3.207c-2.122,16.447-0.785,30.755,4.088,43.74c3.79,10.098,4.335,20.541,1.62,31.047\n\t\tc-0.868,3.354-2.198,4.857-4.969,5.346h-42.594v21.232c-2.759,0.373-4.894,2.715-4.894,5.575c0,2.859,2.135,5.2,4.894,5.574v55.021\n\t\th-9.456c-6.849,0-12.399,5.551-12.399,12.396c0,6.848,5.551,12.401,12.399,12.401h161.679c6.844,0,12.396-5.555,12.396-12.401\n\t\tC339.396,473.07,333.843,467.52,326.999,467.52z M301.815,446.926H190.502v-27.488h111.313V446.926z\"\n        />\n      </g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n      <g></g>\n    </Icon>\n  );\n}\n","import styled from \"styled-components\";\n\nconst Icon = styled.svg`\n  position: absolute;\n  width: 20%;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 50px;\n`;\n\nexport default function oscarIcon() {\n  return (\n    <Icon\n      viewBox=\"0 -10 511.98685 511\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"m510.652344 185.902344c-3.351563-10.367188-12.546875-17.730469-23.425782-18.710938l-147.773437-13.417968-58.433594-136.769532c-4.308593-10.023437-14.121093-16.511718-25.023437-16.511718s-20.714844 6.488281-25.023438 16.535156l-58.433594 136.746094-147.796874 13.417968c-10.859376 1.003906-20.03125 8.34375-23.402344 18.710938-3.371094 10.367187-.257813 21.738281 7.957031 28.90625l111.699219 97.960937-32.9375 145.089844c-2.410156 10.667969 1.730468 21.695313 10.582031 28.09375 4.757813 3.4375 10.324219 5.1875 15.9375 5.1875 4.839844 0 9.640625-1.304687 13.949219-3.882813l127.46875-76.183593 127.421875 76.183593c9.324219 5.609376 21.078125 5.097657 29.910156-1.304687 8.855469-6.417969 12.992187-17.449219 10.582031-28.09375l-32.9375-145.089844 111.699219-97.941406c8.214844-7.1875 11.351563-18.539063 7.980469-28.925781zm0 0\"\n        fill=\"#ffc107\"\n      />\n    </Icon>\n  );\n}\n","import MovieField from \"./Movie/MovieField\";\nimport styled from \"styled-components\";\nimport OscarIcon from \"./Icons/oscarIcon\";\nimport StarIcon from \"./Icons/starIcon\";\nimport { useEffect, useState } from \"react\";\n\nconst Background = styled.div`\n  position: absolute;\n  background: linear-gradient(45deg, #653131b8, #35070747);\n  width: 100%;\n  height: 100%;\n  z-index: -1;\n`;\n\nfunction App() {\n  return (\n    <Background>\n      <OscarIcon />\n      {/* <StarIcon /> */}\n      <MovieField />\n    </Background>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}