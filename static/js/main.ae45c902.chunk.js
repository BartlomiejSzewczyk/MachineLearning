(this["webpackJsonpmovie-rate"]=this["webpackJsonpmovie-rate"]||[]).push([[0],{38:function(n,e,t){},48:function(n,e,t){},50:function(n,e,t){"use strict";t.r(e);var a=t(4),i=t(2),r=t.n(i),o=t(7),c=t.n(o),s=t(11),u=t(8),l=t(10),f="(max-width: 1440px)",b="(min-width: 1441px)",p=t(32),d=t(26),j=(t(38),t(27));j.a.initializeApp({apiKey:"AIzaSyBCjEoB2RKgBw9zPHVWS-syRsv1Vm_889w",authDomain:"machinelearning-cfc59.firebaseapp.com",databaseURL:"https://machinelearning-cfc59.firebaseio.com",storageBucket:"machinelearning-cfc59.appspot.com"});var h=j.a,g=t(19);function v(){var n=Object(u.a)(["\n  position: relative;\n  margin-top: 10px;\n  pointer-events: ",";\n  border-radius: 20px;\n  border: 1px solid black;\n  outline: none;\n  cursor: pointer;\n  left: 50%;\n  transform: translateX(-50%);\n  display: block;\n  padding 5px 10px 5px 10px;\n  @media "," {\n    font-size: 16px;\n  }\n  @media "," {\n    font-size: 18px;\n  }\n"]);return v=function(){return n},n}function m(){var n=Object(u.a)(["\n  position: relative;\n  text-align: center;\n  margin-top: 20px;\n  @media "," {\n    font-size: 18px;\n  }\n  @media "," {\n    font-size: 20px;\n  }\n"]);return m=function(){return n},n}function x(){var n=Object(u.a)(["\n  position: absolute;\n  top: 15%;\n  max-width: 30%;\n  left: 3%;\n  @media "," {\n    font-size: 18px;\n  }\n  @media "," {\n    font-size: 20px;\n  }\n"]);return x=function(){return n},n}function O(){var n=Object(u.a)(["\n  position: absolute;\n  width: 20%;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 50px;\n"]);return O=function(){return n},n}function w(){var n=Object(u.a)(["\n  position: relative;\n  margin-top: 10px;\n  background: ",";\n  pointer-events: ",";\n  width: 150px;\n  max-width: 30%;\n  height: 50px;\n  border-radius: 20px;\n  border: 1px solid black;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  left: 50%;\n  transform: translateX(-50%);\n  @media "," {\n    font-size: 20px;\n  }\n  @media "," {\n    font-size: 22px;\n  }\n"]);return w=function(){return n},n}function S(){var n=Object(u.a)(["\n  padding: 5px;\n  @media "," {\n    font-size: 22px;\n  }\n  @media "," {\n    font-size: 26px;\n  }\n"]);return S=function(){return n},n}function z(){var n=Object(u.a)(["\n  position: relative;\n  margin-top: 20px;\n  text-align: center;\n"]);return z=function(){return n},n}function k(){var n=Object(u.a)(["\n  position: relative;\n  margin-top: 20px;\n  width: 80%;\n  left: 10%;\n"]);return k=function(){return n},n}function y(){var n=Object(u.a)(["\n  position: relative;\n  text-align: center;\n  @media "," {\n    font-size: 40px;\n  }\n  @media "," {\n    font-size: 46px;\n  }\n"]);return y=function(){return n},n}function E(){var n=Object(u.a)(["\n  position: absolute;\n  top: 15%;\n  left: 35%;\n  width: 30%;\n  height: 80%;\n"]);return E=function(){return n},n}var C=l.a.div(E()),M=l.a.div(y(),f,b),I=l.a.div(k()),F=l.a.div(z()),N=l.a.label(S(),f,b),B=l.a.button(w(),(function(n){return n.disabled?"##4848716e":"#484871"}),(function(n){if(n.disabled)return"none"}),f,b),J=l.a.img(O()),P=l.a.div(x(),f,b),D=l.a.div(m(),f,b),R=l.a.button(v(),(function(n){if(n.disabled)return"none"}),f,b),W=function(){var n=Object(i.useState)([]),e=Object(s.a)(n,2),t=e[0],r=e[1],o=Object(i.useState)(""),c=Object(s.a)(o,2),u=c[0],l=c[1],f=Object(i.useState)(""),b=Object(s.a)(f,2),j=b[0],v=b[1],m=Object(i.useState)(new Map),x=Object(s.a)(m,2),O=x[0],w=x[1],S=Object(i.useState)(""),z=Object(s.a)(S,2),k=z[0],y=z[1],E=Object(i.useState)(""),W=Object(s.a)(E,2),_=W[0],L=W[1],T=Object(i.useState)(""),A=Object(s.a)(T,2),K=A[0],V=A[1],X=Object(i.useState)(""),G=Object(s.a)(X,2),H=G[0],U=G[1],Y=Object(i.useState)(!1),q=Object(s.a)(Y,2),Q=q[0],Z=q[1];Object(i.useEffect)((function(){var n=new Map;if(window.sessionStorage.getItem("ratingMap")){for(var e=0,t=Object.entries(JSON.parse(window.sessionStorage.ratingMap));e<t.length;e++){var a=Object(s.a)(t[e],2),i=a[0],o=a[1];n.set(i,o)}w(n)}if(window.sessionStorage.getItem("movies")&&window.sessionStorage.getItem("ratingMap")){var c=JSON.parse(window.sessionStorage.getItem("movies")),u=[];Object.keys(c).forEach((function(n,e){u.push({value:c[n],label:c[n]})})),r(u);var f=!1;u.forEach((function(e){n.get(e.value)||f||(l(e),f=!0)}))}else{var b=h.database().ref().child("movies"),p=[];b.on("value",(function(n){n.forEach((function(n){p.push({value:n.key,label:n.key})})),p=tn(p),r(p),l(p[0]);var e={};p.forEach((function(n,t){e[t]=n.value})),window.sessionStorage.setItem("movies",JSON.stringify(e))}))}}),[]),Object(i.useEffect)((function(){nn(u)}),[u]);var $=function(n){var e=new Map(O);e.set(u.value,n),w(e);var a=0;t.forEach((function(n,e){n.value===u.value&&(a=e+1)})),t.length>a&&!O.get(t[a].value)?(l(t[a]),v("")):(a=en(),t.length>a&&(l(t[a]),v("")));var i=Object.fromEntries(e);window.sessionStorage.setItem("ratingMap",JSON.stringify(i))},nn=function(n){n&&h.database().ref().child("movies").child("".concat(n.value)).on("value",(function(n){fetch("https://api.themoviedb.org/3/movie/".concat(n.val(),"?api_key=72ed6ba834b7f05dc61a1e4fc27613dd&language=pl")).then((function(n){return n.json()})).then((function(n){y(n.poster_path),L(n.overview),V(n.release_date),n.genres&&U(n.genres[0].name)}))}))},en=function(){var n=t.length;return t.forEach((function(e,t){O.get(e.value)||e.value===u.value||(n=t)})),n},tn=function(n){for(var e,t,a=n.length;0!==a;)t=Math.floor(Math.random()*a),e=n[a-=1],n[a]=n[t],n[t]=e;return n};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(C,{children:[Object(a.jsx)(M,{children:"Wybierz film do oceny:"}),Object(a.jsx)(I,{children:Object(a.jsx)(p.a,{value:u,onChange:l,options:t,placeholder:"Wybierz z listy ...",noResultsText:"Nie znaleziono wynik\xf3w"})}),u?Object(a.jsx)(F,{children:function(){for(var n=[],e=0;e<6;++e)n.push(Object(a.jsxs)(N,{for:e,children:[e,Object(a.jsx)(d.a,{className:"checkboxStyle",name:e,checked:O.get(u.value)?O.get(u.value)==="".concat(e):j==="".concat(e),onClick:function(n){v(n.target.name),$(n.target.name)},children:"test"})]}));return n.push(Object(a.jsx)("br",{})),n.push(Object(a.jsx)("br",{})),n.push(Object(a.jsxs)(N,{for:-1,children:["Nie znam tego filmu",Object(a.jsx)(d.a,{className:"checkboxStyle",name:-1,checked:O.get(u.value)?"-1"===O.get(u.value):"-1"===j,onClick:function(n){v(n.target.name),$(n.target.name)}})]})),n}()}):null,t.length?Object(a.jsxs)(D,{children:[O.size," / ",t.length]}):null,Object(a.jsx)(R,{onClick:function(){var n=0;t.forEach((function(e,t){e.value===u.value&&(n=t+1)})),t.length>n&&!O.get(t[n].value)?(l(t[n]),v("")):(n=en(),t.length>n&&(l(t[n]),v("")))},children:"Pomi\u0144"}),O.size===t.length&&t.length?Object(a.jsx)(B,{onClick:function(){var n=h.database().ref().child("rating"),e={};O.forEach((function(n,t){e[t]=n})),n.push(e),Object(g.b)("Dzi\u0119kuj\u0119my za ocenienie film\xf3w !"),Z(!0)},disabled:Q,children:"Wy\u015blij"}):null]}),Object(a.jsxs)(P,{children:[H?"Gatunek: ".concat(H):null,H?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]}):null,K?"Data premiery: ".concat(K):null,K?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]}):null,_]}),k?Object(a.jsx)(J,{alt:"poster",src:"https://image.tmdb.org/t/p/original".concat(k)}):null]})};t(48),t(49);var _=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(W,{}),Object(a.jsx)(g.a,{position:"top-center",hideProgressBar:!0,autoClose:!1})]})},L=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,53)).then((function(e){var t=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;t(n),a(n),i(n),r(n),o(n)}))};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(_,{})}),document.getElementById("root")),L()}},[[50,1,2]]]);
//# sourceMappingURL=main.ae45c902.chunk.js.map